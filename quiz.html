<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#b19cd9">
    <meta name="description" content="Participe do Quiz Literário do Despertar Literário - Clube de Leitura de Sorocaba. Teste seus conhecimentos literários!">
    <meta name="keywords" content="quiz literário, literatura, clube de leitura, Sorocaba">
    <title>Quiz Literário - Despertar Literário</title>
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon-192.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body {
            background: #0a1e3b url('https://images.unsplash.com/photo-1519125323398-675f1f4d271f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
            background-size: cover;
            background-attachment: fixed;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            position: relative;
        }

        body.night-mode {
            background: #0a1e3b url('https://images.unsplash.com/photo-1519125323398-675f1f4d271f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
        }

        body.day-mode {
            background: #f0f0f0 url('https://images.unsplash.com/photo-1507521628349-dee6b5761201?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80') no-repeat center center/cover;
        }

        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: none;
        }

        body.night-mode .stars {
            display: block;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 2s infinite ease-in-out;
            opacity: 0.8;
        }

        .star:nth-child(odd) {
            width: 2px;
            height: 2px;
            animation-duration: 3s;
        }

        .star:nth-child(even) {
            width: 1px;
            height: 1px;
            animation-duration: 4s;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.8; }
        }

        .star:nth-child(1) { top: 10%; left: 15%; }
        .star:nth-child(2) { top: 20%; left: 85%; }
        .star:nth-child(3) { top: 30%; left: 25%; }
        .star:nth-child(4) { top: 40%; left: 75%; }
        .star:nth-child(5) { top: 50%; left: 10%; }
        .star:nth-child(6) { top: 60%; left: 90%; }
        .star:nth-child(7) { top: 70%; left: 20%; }
        .star:nth-child(8) { top: 80%; left: 80%; }
        .star:nth-child(9) { top: 15%; left: 50%; }
        .star:nth-child(10) { top: 25%; left: 40%; }
        .star:nth-child(11) { top: 35%; left: 60%; }
        .star:nth-child(12) { top: 45%; left: 30%; }
        .star:nth-child(13) { top: 55%; left: 70%; }
        .star:nth-child(14) { top: 65%; left: 15%; }
        .star:nth-child(15) { top: 75%; left: 85%; }
        .star:nth-child(16) { top: 5%; left: 95%; }
        .star:nth-child(17) { top: 85%; left: 5%; }
        .star:nth-child(18) { top: 90%; left: 50%; }
        .star:nth-child(19) { top: 95%; left: 30%; }
        .star:nth-child(20) { top: 10%; left: 70%; }

        .container {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            max-width: 90%;
            width: 500px;
            position: relative;
            z-index: 1;
        }

        body.day-mode .container {
            background: rgba(255, 255, 255, 0.9);
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #e0e0e0;
        }

        body.day-mode h1 {
            color: #333;
        }

        #timer {
            font-size: 1.5rem;
            color: #b19cd9;
            margin-bottom: 20px;
        }

        body.day-mode #timer {
            color: #6a5acd;
        }

        #first-place {
            font-size: 1.2rem;
            color: #4CAF50;
            margin-bottom: 20px;
        }

        body.day-mode #first-place {
            color: #2e7d32;
        }

        #question {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #e0e0e0;
        }

        body.day-mode #question {
            color: #555;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn-container {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            transition: background-color 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        body.day-mode .btn-container {
            background: rgba(0, 0, 0, 0.05);
        }

        .btn-container:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        body.day-mode .btn-container:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .option {
            background-color: #b19cd9;
            color: #fff;
            border: none;
            padding: 15px;
            font-size: 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
            position: relative;
            z-index: 1;
        }

        body.day-mode .option {
            background-color: #6a5acd;
            color: #fff;
        }

        .option:hover {
            background-color: #9b7ed1;
        }

        body.day-mode .option:hover {
            background-color: #5a4ab5;
        }

        .option.correct {
            background-color: #4CAF50;
        }

        .option.wrong {
            background-color: #f44336;
        }

        .option:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        #score {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #e0e0e0;
        }

        body.day-mode #score {
            color: #555;
        }

        .btn {
            background-color: #b19cd9;
            color: #fff;
            border: none;
            padding: 15px;
            font-size: 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
            position: relative;
            z-index: 1;
            margin: 5px;
        }

        body.day-mode .btn {
            background-color: #6a5acd;
            color: #fff;
        }

        .btn:hover {
            background-color: #9b7ed1;
        }

        body.day-mode .btn:hover {
            background-color: #5a4ab5;
        }

        .magic-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .btn-container:hover .magic-particles {
            opacity: 1;
        }

        .particle {
            position: absolute;
            background: #b19cd9;
            border-radius: 50%;
            opacity: 0;
            animation: sparkle 1s ease-out forwards;
        }

        @keyframes sparkle {
            0% { opacity: 0.8; transform: translate(0, 0) scale(1); }
            100% { opacity: 0; transform: translate(var(--x), var(--y)) scale(0.5); }
        }

        #name-section {
            margin: 20px 0;
        }

        #player-name {
            padding: 10px;
            font-size: 1rem;
            border-radius: 5px;
            border: none;
            margin-right: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: #e0e0e0;
        }

        #player-name::placeholder {
            color: #b0b0b0;
        }

        body.day-mode #player-name {
            background: rgba(0, 0, 0, 0.05);
            color: #555;
        }

        body.day-mode #player-name::placeholder {
            color: #888;
        }

        #leaderboard {
            margin-top: 20px;
            text-align: left;
        }

        #leaderboard h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #e0e0e0;
        }

        body.day-mode #leaderboard h2 {
            color: #333;
        }

        #leaderboard-list {
            list-style: none;
            padding: 0;
        }

        #leaderboard-list li {
            font-size: 1rem;
            margin: 5px 0;
            color: #d3d3d3;
        }

        body.day-mode #leaderboard-list li {
            color: #666;
        }

        .mode-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #fff;
            z-index: 2;
        }

        body.day-mode .mode-toggle {
            color: #333;
        }

        .loading {
            font-size: 1rem;
            color: #b19cd9;
            margin-bottom: 15px;
            display: none;
        }

        body.day-mode .loading {
            color: #6a5acd;
        }

        @media (max-width: 600px) {
            .container {
                width: 90%;
                max-width: 350px;
                padding: 15px;
            }
            h1 {
                font-size: 1.4rem;
            }
            #timer, #first-place, #question, #score {
                font-size: 1rem;
            }
            .option {
                font-size: 0.9rem;
                padding: 12px;
            }
            .btn {
                font-size: 0.9rem;
                padding: 12px;
            }
            #player-name {
                font-size: 0.9rem;
                padding: 8px;
            }
            #leaderboard h2 {
                font-size: 1.2rem;
            }
            #leaderboard-list li {
                font-size: 0.9rem;
            }
            .mode-toggle {
                top: 10px;
                right: 10px;
                font-size: 1.2rem;
            }
            body {
                background-attachment: scroll;
            }
        }
    </style>
</head>
<body class="night-mode">
    <button class="mode-toggle" id="mode-toggle" aria-label="Alternar entre modo noturno e diurno">🌙</button>
    <div class="stars">
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
    </div>
    <div class="container">
        <h1>Quiz Literário</h1>
        <div id="timer" aria-live="polite">Tempo Total: 2:00</div>
        <div id="first-place" aria-live="polite"></div>
        <div id="question" aria-live="assertive"></div>
        <div class="loading" id="loading">Carregando próxima pergunta...</div>
        <div class="options" id="options" role="radiogroup"></div>
        <div id="score" aria-live="polite">Pontuação: 0</div>
        <div id="name-section" style="display: none;">
            <input type="text" id="player-name" placeholder="Digite seu nome" aria-label="Digite seu nome para salvar a pontuação">
            <button class="btn" onclick="saveScore()" aria-label="Salvar pontuação no placar">Salvar Pontuação</button>
        </div>
        <div id="leaderboard" style="display: none;">
            <h2>Placar de Líderes</h2>
            <ul id="leaderboard-list" aria-label="Lista de líderes do quiz"></ul>
        </div>
        <div class="btn-container">
            <button class="btn" onclick="endQuiz()" id="end-btn" style="display: none;" aria-label="Encerrar o quiz">Encerrar Quiz</button>
            <div class="magic-particles" id="particles1"></div>
        </div>
        <div class="btn-container">
            <button class="btn" onclick="window.location.href='/index.html'" id="back-btn" aria-label="Voltar para a página inicial">Voltar</button>
            <div class="magic-particles" id="particles2"></div>
        </div>
    </div>

    <script>
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        const questionsPool = [
            { question: "Quem escreveu 'A Metamorfose'?", options: ["Franz Kafka", "Hermann Hesse", "Thomas Mann", "Günter Grass"], answer: "Franz Kafka" },
            { question: "Qual obra é considerada a primeira novela moderna?", options: ["Dom Quixote", "A Divina Comédia", "Decameron", "Os Lusíadas"], answer: "Dom Quixote" },
            { question: "Quem é o autor de 'Crime e Castigo'?", options: ["Fyodor Dostoevsky", "Leo Tolstoy", "Vladimir Nabokov", "Anton Chekhov"], answer: "Fyodor Dostoevsky" },
            { question: "Qual é a obra mais famosa de Machado de Assis?", options: ["Dom Casmurro", "Quincas Borba", "Helena", "Esaú e Jacó"], answer: "Dom Casmurro" },
            { question: "Quem escreveu 'O Pequeno Príncipe'?", options: ["Antoine de Saint-Exupéry", "Victor Hugo", "Franz Kafka", "Jane Austen"], answer: "Antoine de Saint-Exupéry" },
            { question: "Qual é o gênero de 'O Senhor dos Anéis'?", options: ["Fantasia", "Ficção Científica", "Romance", "Terror"], answer: "Fantasia" },
            { question: "Quem é o autor de 'Harry Potter'?", options: ["J.R.R. Tolkien", "J.K. Rowling", "C.S. Lewis", "Stephen King"], answer: "J.K. Rowling" },
            { question: "Em que ano foi publicado '1984' de George Orwell?", options: ["1949", "1950", "1960", "1970"], answer: "1949" },
            { question: "Qual obra é conhecida como o maior clássico da literatura brasileira?", options: ["Memórias Póstumas de Brás Cubas", "O Guarani", "Iracema", "Grande Sertão: Veredas"], answer: "Grande Sertão: Veredas" },
            { question: "Quem escreveu 'Dom Quixote'?", options: ["Miguel de Cervantes", "William Shakespeare", "Machado de Assis", "Jorge Amado"], answer: "Miguel de Cervantes" },
            { question: "Qual é a nacionalidade de Gabriel García Márquez?", options: ["Colombiano", "Mexicano", "Argentino", "Chileno"], answer: "Colombiano" },
            { question: "Quem escreveu 'Cem Anos de Solidão'?", options: ["Gabriel García Márquez", "Mario Vargas Llosa", "Isabel Allende", "Julio Cortázar"], answer: "Gabriel García Márquez" },
            { question: "Qual é o primeiro livro da série 'As Crônicas de Nárnia'?", options: ["O Leão, a Feiticeira e o Guarda-Roupa", "Príncipe Caspian", "A Viagem do Peregrino da Alvorada", "A Cadeira de Prata"], answer: "O Leão, a Feiticeira e o Guarda-Roupa" },
            { question: "Quem é o autor de 'Orgulho e Preconceito'?", options: ["Jane Austen", "Charlotte Brontë", "Emily Brontë", "Mary Shelley"], answer: "Jane Austen" },
            { question: "Qual obra é um exemplo de literatura gótica?", options: ["Frankenstein", "Moby Dick", "Os Miseráveis", "O Retrato de Dorian Gray"], answer: "Frankenstein" },
            { question: "Quem escreveu 'Os Lusíadas'?", options: ["Luís de Camões", "Fernando Pessoa", "Eça de Queirós", "Camilo Castelo Branco"], answer: "Luís de Camões" },
            { question: "Qual é o gênero literário de 'O Alquimista' de Paulo Coelho?", options: ["Fantasia", "Romance", "Alegoria", "Suspense"], answer: "Alegoria" },
            { question: "Quem é o autor de 'Moby Dick'?", options: ["Herman Melville", "Mark Twain", "Nathaniel Hawthorne", "Edgar Allan Poe"], answer: "Herman Melville" },
            { question: "Qual obra foi escrita por Clarice Lispector?", options: ["A Paixão Segundo G.H.", "O Cortiço", "Vidas Secas", "Capitães da Areia"], answer: "A Paixão Segundo G.H." },
            { question: "Quem escreveu 'O Morro dos Ventos Uivantes'?", options: ["Emily Brontë", "Charlotte Brontë", "Jane Austen", "George Eliot"], answer: "Emily Brontë" },
            { question: "Qual é a nacionalidade de Franz Kafka?", options: ["Tcheco", "Alemão", "Russo", "Francês"], answer: "Tcheco" },
            { question: "Quem escreveu 'O Retrato de Dorian Gray'?", options: ["Oscar Wilde", "Bram Stoker", "Robert Louis Stevenson", "H.G. Wells"], answer: "Oscar Wilde" },
            { question: "Qual obra é de autoria de José de Alencar?", options: ["O Guarani", "Macunaíma", "Sagarana", "Fogo Morto"], answer: "O Guarani" },
            { question: "Quem é o autor de 'As Aventuras de Tom Sawyer'?", options: ["Mark Twain", "Louisa May Alcott", "Jack London", "Harriet Beecher Stowe"], answer: "Mark Twain" },
            { question: "Qual é o gênero de 'Drácula' de Bram Stoker?", options: ["Terror", "Romance", "Fantasia", "Mistério"], answer: "Terror" },
            { question: "Quem escreveu 'A Divina Comédia'?", options: ["Dante Alighieri", "Giovanni Boccaccio", "Petrarca", "Homero"], answer: "Dante Alighieri" },
            { question: "Qual obra é de autoria de Graciliano Ramos?", options: ["Vidas Secas", "A Moreninha", "O Ateneu", "Senhora"], answer: "Vidas Secas" },
            { question: "Quem é o autor de 'Guerra e Paz'?", options: ["Leo Tolstoy", "Fyodor Dostoevsky", "Ivan Turgenev", "Nikolai Gogol"], answer: "Leo Tolstoy" },
            { question: "Qual é a nacionalidade de Jorge Amado?", options: ["Brasileiro", "Argentino", "Português", "Mexicano"], answer: "Brasileiro" },
            { question: "Quem escreveu 'Capitães da Areia'?", options: ["Jorge Amado", "Érico Veríssimo", "Aluísio Azevedo", "Manuel Bandeira"], answer: "Jorge Amado" },
            { question: "Qual obra foi escrita por Virginia Woolf?", options: ["Mrs. Dalloway", "Middlemarch", "Jane Eyre", "Persuasão"], answer: "Mrs. Dalloway" },
            { question: "Quem é o autor de 'A Ilíada'?", options: ["Homero", "Virgílio", "Sófocles", "Eurípedes"], answer: "Homero" },
            { question: "Qual é o gênero de 'A Revolução dos Bichos'?", options: ["Sátira", "Romance", "Fantasia", "Suspense"], answer: "Sátira" },
            { question: "Quem escreveu 'O Cortiço'?", options: ["Aluísio Azevedo", "José de Alencar", "Machado de Assis", "Raul Pompeia"], answer: "Aluísio Azevedo" },
            { question: "Qual obra é de autoria de Ernest Hemingway?", options: ["O Velho e o Mar", "As Vinhas da Ira", "O Sol Também se Levanta", "Por Quem os Sinos Dobram"], answer: "O Velho e o Mar" },
            { question: "Quem é o autor de 'Macunaíma'?", options: ["Mário de Andrade", "Oswald de Andrade", "Manuel Bandeira", "João Cabral de Melo Neto"], answer: "Mário de Andrade" },
            { question: "Qual é a nacionalidade de Isabel Allende?", options: ["Chilena", "Peruana", "Colombiana", "Argentina"], answer: "Chilena" },
            { question: "Quem escreveu 'A Casa dos Espíritos'?", options: ["Isabel Allende", "Laura Esquivel", "Gabriel García Márquez", "Mario Vargas Llosa"], answer: "Isabel Allende" },
            { question: "Qual obra é de autoria de Eça de Queirós?", options: ["O Primo Basílio", "O Ateneu", "Senhora", "Lavoura Arcaica"], answer: "O Primo Basílio" },
            { question: "Quem é o autor de 'O Apanhador no Campo de Centeio'?", options: ["J.D. Salinger", "F. Scott Fitzgerald", "John Steinbeck", "William Faulkner"], answer: "J.D. Salinger" },
            { question: "Qual é o gênero de 'O Nome da Rosa' de Umberto Eco?", options: ["Mistério", "Fantasia", "Romance", "Biografia"], answer: "Mistério" },
            { question: "Quem escreveu 'Sagarana'?", options: ["João Guimarães Rosa", "Graciliano Ramos", "Lygia Fagundes Telles", "Clarice Lispector"], answer: "João Guimarães Rosa" },
            { question: "Qual obra é de autoria de Fernando Pessoa?", options: ["Livro do Desassossego", "Memorial de Aires", "Os Sertões", "Triste Fim de Policarpo Quaresma"], answer: "Livro do Desassossego" },
            { question: "Quem é o autor de 'O Grande Gatsby'?", options: ["F. Scott Fitzgerald", "Ernest Hemingway", "William Faulkner", "John Steinbeck"], answer: "F. Scott Fitzgerald" },
            { question: "Qual é a nacionalidade de Milan Kundera?", options: ["Tcheco", "Polonês", "Húngaro", "Russo"], answer: "Tcheco" },
            { question: "Quem escreveu 'A Insustentável Leveza do Ser'?", options: ["Milan Kundera", "Franz Kafka", "Italo Calvino", "Thomas Mann"], answer: "Milan Kundera" },
            { question: "Qual obra é de autoria de Guimarães Rosa?", options: ["Sagarana", "O Cortiço", "Iracema", "Memórias de um Sargento de Milícias"], answer: "Sagarana" },
            { question: "Quem é o autor de 'O Estrangeiro'?", options: ["Albert Camus", "Jean-Paul Sartre", "Simone de Beauvoir", "André Gide"], answer: "Albert Camus" },
            { question: "Qual é o gênero de 'Admirável Mundo Novo' de Aldous Huxley?", options: ["Distopia", "Fantasia", "Romance", "Suspense"], answer: "Distopia" },
            { question: "Quem escreveu 'O Processo'?", options: ["Franz Kafka", "Hermann Hesse", "Thomas Mann", "Günter Grass"], answer: "Franz Kafka" },
            { question: "Qual obra é de autoria de Manuel Bandeira?", options: ["Libertinagem", "Claro Enigma", "Romanceiro da Inconfidência", "Poemas Completos"], answer: "Libertinagem" },
            { question: "Quem é o autor de 'Os Miseráveis'?", options: ["Victor Hugo", "Alexandre Dumas", "Émile Zola", "Gustave Flaubert"], answer: "Victor Hugo" },
            { question: "Qual é a nacionalidade de Haruki Murakami?", options: ["Japonês", "Chinês", "Coreano", "Tailandês"], answer: "Japonês" },
            { question: "Quem escreveu 'Norwegian Wood'?", options: ["Haruki Murakami", "Banana Yoshimoto", "Yukio Mishima", "Kenzaburo Oe"], answer: "Haruki Murakami" },
            { question: "Qual obra é de autoria de Lima Barreto?", options: ["Triste Fim de Policarpo Quaresma", "O Ateneu", "O Mulato", "A Moreninha"], answer: "Triste Fim de Policarpo Quaresma" },
            { question: "Quem é o autor de 'A Peste'?", options: ["Albert Camus", "Jean-Paul Sartre", "André Gide", "Simone de Beauvoir"], answer: "Albert Camus" },
            { question: "Qual é o gênero de 'Lolita' de Vladimir Nabokov?", options: ["Romance", "Suspense", "Fantasia", "Sátira"], answer: "Romance" },
            { question: "Quem escreveu 'Madame Bovary'?", options: ["Gustave Flaubert", "Émile Zola", "Victor Hugo", "Honoré de Balzac"], answer: "Gustave Flaubert" },
            { question: "Qual obra é de autoria de Lygia Fagundes Telles?", options: ["As Meninas", "Felicidade Clandestina", "Água Viva", "A Paixão Segundo G.H."], answer: "As Meninas" },
            { question: "Quem é o autor de 'O Som e a Fúria'?", options: ["William Faulkner", "F. Scott Fitzgerald", "John Steinbeck", "Ernest Hemingway"], answer: "William Faulkner" },
            { question: "Qual é a nacionalidade de Toni Morrison?", options: ["Americana", "Britânica", "Canadense", "Australiana"], answer: "Americana" },
            { question: "Quem escreveu 'Amada'?", options: ["Toni Morrison", "Alice Walker", "Maya Angelou", "Zora Neale Hurston"], answer: "Toni Morrison" },
            { question: "Qual obra é de autoria de Érico Veríssimo?", options: ["Olhai os Lírios do Campo", "O Cortiço", "Senhora", "O Guarani"], answer: "Olhai os Lírios do Campo" },
            { question: "Quem é o autor de 'A Montanha Mágica'?", options: ["Thomas Mann", "Hermann Hesse", "Franz Kafka", "Günter Grass"], answer: "Thomas Mann" },
            { question: "Qual é o gênero de 'O Hobbit' de J.R.R. Tolkien?", options: ["Fantasia", "Mistério", "Romance", "Histórico"], answer: "Fantasia" },
            { question: "Quem escreveu 'Os Irmãos Karamazov'?", options: ["Fyodor Dostoevsky", "Leo Tolstoy", "Ivan Turgenev", "Nikolai Gogol"], answer: "Fyodor Dostoevsky" },
            { question: "Qual obra é de autoria de Cecília Meireles?", options: ["Romanceiro da Inconfidência", "Claro Enigma", "Libertinagem", "Morte e Vida Severina"], answer: "Romanceiro da Inconfidência" },
            { question: "Quem é o autor de 'O Médico e o Monstro'?", options: ["Robert Louis Stevenson", "Bram Stoker", "Oscar Wilde", "H.G. Wells"], answer: "Robert Louis Stevenson" },
            { question: "Qual é a nacionalidade de Salman Rushdie?", options: ["Indiano", "Paquistanês", "Egípcio", "Iraniano"], answer: "Indiano" },
            { question: "Quem escreveu 'Os Versos Satânicos'?", options: ["Salman Rushdie", "Arundhati Roy", "Vikram Seth", "Amitav Ghosh"], answer: "Salman Rushdie" },
            { question: "Qual obra é de autoria de Raul Pompeia?", options: ["O Ateneu", "O Mulato", "Senhora", "A Moreninha"], answer: "O Ateneu" },
            { question: "Quem é o autor de 'As Vinhas da Ira'?", options: ["John Steinbeck", "F. Scott Fitzgerald", "William Faulkner", "Ernest Hemingway"], answer: "John Steinbeck" },
            { question: "Qual é o gênero de 'O Perfume' de Patrick Süskind?", options: ["Suspense", "Fantasia", "Romance", "Histórico"], answer: "Suspense" },
            { question: "Quem escreveu 'O Lobo da Estepe'?", options: ["Hermann Hesse", "Thomas Mann", "Franz Kafka", "Günter Grass"], answer: "Hermann Hesse" },
            { question: "Qual obra é de autoria de João Cabral de Melo Neto?", options: ["Morte e Vida Severina", "Claro Enigma", "Libertinagem", "Romanceiro da Inconfidência"], answer: "Morte e Vida Severina" },
            { question: "Quem é o autor de 'O Senhor das Moscas'?", options: ["William Golding", "Aldous Huxley", "George Orwell", "Ray Bradbury"], answer: "William Golding" },
            { question: "Qual é a nacionalidade de Chinua Achebe?", options: ["Nigeriano", "Queniano", "Sul-africano", "Ganense"], answer: "Nigeriano" },
            { question: "Quem escreveu 'O Mundo se Despedaça'?", options: ["Chinua Achebe", "Ngũgĩ wa Thiong'o", "Wole Soyinka", "Buchi Emecheta"], answer: "Chinua Achebe" },
            { question: "Qual obra é de autoria de Raduan Nassar?", options: ["Lavoura Arcaica", "O Cortiço", "Senhora", "O Guarani"], answer: "Lavoura Arcaica" },
            { question: "Quem é o autor de 'Fahrenheit 451'?", options: ["Ray Bradbury", "Aldous Huxley", "George Orwell", "Philip K. Dick"], answer: "Ray Bradbury" },
            { question: "Qual é o gênero de 'O Conto da Aia' de Margaret Atwood?", options: ["Distopia", "Fantasia", "Romance", "Suspense"], answer: "Distopia" },
            { question: "Quem escreveu 'O Castelo'?", options: ["Franz Kafka", "Hermann Hesse", "Thomas Mann", "Günter Grass"], answer: "Franz Kafka" },
            { question: "Qual obra é de autoria de Carlos Drummond de Andrade?", options: ["Claro Enigma", "Libertinagem", "Romanceiro da Inconfidência", "Morte e Vida Severina"], answer: "Claro Enigma" },
            { question: "Quem é o autor de 'A Máquina do Tempo'?", options: ["H.G. Wells", "Jules Verne", "Isaac Asimov", "Arthur C. Clarke"], answer: "H.G. Wells" },
            { question: "Qual é a nacionalidade de Jhumpa Lahiri?", options: ["Indiana", "Paquistanesa", "Bangladesh", "Sri Lanka"], answer: "Indiana" },
            { question: "Quem escreveu 'O Intérprete de Males'?", options: ["Jhumpa Lahiri", "Arundhati Roy", "Salman Rushdie", "Vikram Seth"], answer: "Jhumpa Lahiri" },
            { question: "Qual obra é de autoria de Bernardo Guimarães?", options: ["A Escrava Isaura", "O Mulato", "O Ateneu", "Senhora"], answer: "A Escrava Isaura" },
            { question: "Quem é o autor de 'Ao Farol'?", options: ["Virginia Woolf", "Jane Austen", "George Eliot", "Charlotte Brontë"], answer: "Virginia Woolf" },
            { question: "Qual é o gênero de 'Neuromancer' de William Gibson?", options: ["Cyberpunk", "Fantasia", "Romance", "Histórico"], answer: "Cyberpunk" },
            { question: "Quem escreveu 'O Jogo da Amarelinha'?", options: ["Julio Cortázar", "Gabriel García Márquez", "Mario Vargas Llosa", "Jorge Luis Borges"], answer: "Julio Cortázar" },
            { question: "Qual obra é de autoria de Oswald de Andrade?", options: ["Memórias Sentimentais de João Miramar", "Claro Enigma", "Libertinagem", "Romanceiro da Inconfidência"], answer: "Memórias Sentimentais de João Miramar" },
            { question: "Quem é o autor de 'Duna'?", options: ["Frank Herbert", "Isaac Asimov", "Arthur C. Clarke", "Robert A. Heinlein"], answer: "Frank Herbert" },
            { question: "Qual é a nacionalidade de Mo Yan?", options: ["Chinês", "Japonês", "Coreano", "Tailandês"], answer: "Chinês" },
            { question: "Quem escreveu 'O Vermelho e o Negro'?", options: ["Stendhal", "Honoré de Balzac", "Gustave Flaubert", "Émile Zola"], answer: "Stendhal" },
            { question: "Qual obra é de autoria de Euclides da Cunha?", options: ["Os Sertões", "O Cortiço", "Senhora", "O Guarani"], answer: "Os Sertões" },
            { question: "Qual autor escreveu 'A Revolta de Atlas'?", options: ["Ayn Rand", "George Orwell", "Ray Bradbury", "Isaac Asimov"], answer: "Ayn Rand" },
            { question: "Qual obra é um clássico da literatura africana moderna?", options: ["Coisas Desmoronam-se", "O Leão e o Rato", "O Velho e o Mar", "O Sol é Para Todos"], answer: "Coisas Desmoronam-se" },
            { question: "Quem escreveu 'Crepúsculo'?", options: ["Stephenie Meyer", "J.K. Rowling", "Suzanne Collins", "Cassandra Clare"], answer: "Stephenie Meyer" },
            { question: "Qual é o gênero de 'O Guia do Mochileiro das Galáxias'?", options: ["Ficção Científica", "Fantasia", "Comédia", "Mistério"], answer: "Ficção Científica" },
            { question: "Quem é o autor de 'Memórias do Subsolo'?", options: ["Fyodor Dostoevsky", "Leo Tolstoy", "Anton Chekhov", "Nikolai Gogol"], answer: "Fyodor Dostoevsky" },
            { question: "Qual obra foi escrita por Agatha Christie?", options: ["Assassinato no Expresso do Oriente", "O Nome da Rosa", "O Código Da Vinci", "O Conde de Monte Cristo"], answer: "Assassinato no Expresso do Oriente" },
            { question: "Qual é a nacionalidade de Chimamanda Ngozi Adichie?", options: ["Nigeriana", "Ganesa", "Sul-africana", "Kenyana"], answer: "Nigeriana" },
            { question: "Quem escreveu 'O Sol é Para Todos'?", options: ["Harper Lee", "Mark Twain", "John Steinbeck", "Ernest Hemingway"], answer: "Harper Lee" },
            { question: "Qual obra é um exemplo de poesia épica?", options: ["A Odisseia", "Cem Anos de Solidão", "Madame Bovary", "O Pequeno Príncipe"], answer: "A Odisseia" },
            { question: "Quem escreveu 'A Revolução dos Caracóis'?", options: ["Mia Couto", "Chinua Achebe", "Ngũgĩ wa Thiong'o", "Wole Soyinka"], answer: "Mia Couto" }
        ];

        let availableQuestions = [...questionsPool];
        let score = 0;
        let timeLeft = 120;
        let timerInterval;
        let currentQuestion = null;

        function startTimer() {
            document.getElementById('timer').textContent = `Tempo Total: ${Math.floor(timeLeft / 60)}:${String(timeLeft % 60).padStart(2, '0')}`;
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = `Tempo Total: ${Math.floor(timeLeft / 60)}:${String(timeLeft % 60).padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endQuiz();
                }
            }, 1000);
        }

        function shuffleAndGetQuestion() {
            if (availableQuestions.length === 0) {
                clearInterval(timerInterval);
                endQuiz();
                return null;
            }
            const randomIndex = Math.floor(Math.random() * availableQuestions.length);
            currentQuestion = availableQuestions.splice(randomIndex, 1)[0];
            return currentQuestion;
        }

        function displayQuestion() {
            const question = shuffleAndGetQuestion();
            if (!question) return;
            document.getElementById('question').textContent = question.question;
            const optionsDiv = document.getElementById('options');
            optionsDiv.innerHTML = '';
            let shuffledOptions = shuffleArray([...question.options]);
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option');
                button.setAttribute('role', 'radio');
                button.setAttribute('aria-label', `Opção: ${option}`);
                button.addEventListener('click', () => checkAnswer(option));
                optionsDiv.appendChild(button);
            });
            document.getElementById('end-btn').style.display = 'inline-block';
        }

        function checkAnswer(selected) {
            const options = document.querySelectorAll('.option');
            clearInterval(timerInterval);
            options.forEach(option => option.disabled = true); // Desabilita os botões
            document.getElementById('loading').style.display = 'block'; // Mostra feedback de carregamento
            if (selected === currentQuestion.answer) {
                score += 10;
                options.forEach(option => {
                    if (option.textContent === selected) option.classList.add('correct');
                });
            } else {
                options.forEach(option => {
                    if (option.textContent === selected) option.classList.add('wrong');
                    if (option.textContent === currentQuestion.answer) option.classList.add('correct');
                });
            }
            document.getElementById('score').textContent = `Pontuação: ${score}`;
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none'; // Esconde o feedback
                options.forEach(option => {
                    option.classList.remove('correct', 'wrong');
                    option.disabled = false; // Reabilita os botões
                });
                startTimer();
                displayQuestion();
            }, 1000);
        }

        function endQuiz() {
            clearInterval(timerInterval);
            document.getElementById('timer').style.display = 'none';
            document.getElementById('question').style.display = 'none';
            document.getElementById('options').style.display = 'none';
            document.getElementById('end-btn').style.display = 'none';
            document.getElementById('score').textContent = `Pontuação Final: ${score}`;
            document.getElementById('name-section').style.display = 'block';
        }

        function saveScore() {
            const name = document.getElementById('player-name').value.trim();
            if (!name || name.length === 0) {
                alert('Por favor, digite um nome válido!');
                return;
            }

            let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
            // Remove qualquer entrada anterior com o mesmo nome
            leaderboard = leaderboard.filter(entry => entry.name !== name);
            leaderboard.push({ name, score });
            leaderboard.sort((a, b) => b.score - a.score);
            leaderboard = leaderboard.slice(0, 5);
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));

            displayLeaderboard();
            displayFirstPlace();
            document.getElementById('name-section').style.display = 'none';
            document.getElementById('leaderboard').style.display = 'block';
        }

        function displayLeaderboard() {
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
            const leaderboardList = document.getElementById('leaderboard-list');
            leaderboardList.innerHTML = '';
            leaderboard.forEach((entry, index) => {
                const li = document.createElement('li');
                li.textContent = `${index + 1}. ${entry.name}: ${entry.score} pontos`;
                leaderboardList.appendChild(li);
            });
        }

        function displayFirstPlace() {
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
            if (leaderboard.length > 0) {
                const firstPlace = leaderboard[0];
                document.getElementById('first-place').textContent = `Líder: ${firstPlace.name} - ${firstPlace.score} pontos`;
                document.getElementById('first-place').style.display = 'block';
            } else {
                document.getElementById('first-place').textContent = 'Nenhum líder ainda!';
                document.getElementById('first-place').style.display = 'block';
            }
        }

        function applyMode(mode) {
            const body = document.body;
            const modeToggleBtn = document.getElementById('mode-toggle');
            if (mode === 'day-mode') {
                body.classList.remove('night-mode');
                body.classList.add('day-mode');
                modeToggleBtn.textContent = '☀';
                modeToggleBtn.setAttribute('aria-label', 'Alternar para modo noturno');
            } else {
                body.classList.remove('day-mode');
                body.classList.add('night-mode');
                modeToggleBtn.textContent = '🌙';
                modeToggleBtn.setAttribute('aria-label', 'Alternar para modo diurno');
            }
        }

        function toggleMode() {
            const body = document.body;
            const newMode = body.classList.contains('night-mode') ? 'day-mode' : 'night-mode';
            applyMode(newMode);
            localStorage.setItem('themeMode', newMode);
        }

        function createParticles(containerId) {
            const container = document.getElementById(containerId);
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                const size = Math.random() * 3 + 1;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.setProperty('--x', `${(Math.random() - 0.5) * 50}px`);
                particle.style.setProperty('--y', `${(Math.random() - 0.5) * 50}px`);
                particle.style.animationDelay = `${Math.random() * 0.5}s`;
                container.appendChild(particle);
            }
        }

        function handleMouseOver(containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            createParticles(containerId);
        }

        const savedMode = localStorage.getItem('themeMode') || 'night-mode';
        applyMode(savedMode);

        window.onload = () => {
            shuffleArray(availableQuestions);
            startTimer();
            displayQuestion();
            displayFirstPlace();
        };

        document.getElementById('mode-toggle').addEventListener('click', toggleMode);
        document.querySelectorAll('.btn-container')[0].addEventListener('mouseover', () => handleMouseOver('particles1'));
        document.querySelectorAll('.btn-container')[1].addEventListener('mouseover', () => handleMouseOver('particles2'));
    </script>
</body>
</html>
